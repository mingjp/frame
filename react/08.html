<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>组件通信</title>
    <script src="../lib/react/react.js" type="text/javascript"></script>
    <script src="../lib/react/react-dom.js" type="text/javascript"></script>
    <script src="../lib/react/browser.min.js" type="text/javascript"></script>
</head>
<body>
    <div id="app">
        
    </div>
    <script type="text/babel">
        var ParentComponent = React.createClass({
            
             getInitialState: function(){
                return {
                    text: 0
                }
            },
            change:function(){
                this.setState({text:this.state.text+1})
            },
            render:function(){
                return(
                    <div>
                        <h1>{this.state.text}</h1>
                        <ChildrenComponent data={this.state.text} change={this.change}></ChildrenComponent>
                    </div>
                    )
            }
        });
        

        var ChildrenComponent = React.createClass({
            getInitialState: function(){
                return {
                    data: 0
                }
            },

            changeChild:function(){
                this.setState({data:this.state.data+1})
            },
            render:function(){
                return (
                        <div>
                            <h1>{this.props.data}</h1>
                            <input type="button" onClick={this.props.change} value="click"/>
                        </div>
                    )
            }
        })
        ReactDOM.render(<ParentComponent/>,document.getElementById('app'));

    </script>    
</body>
</html>